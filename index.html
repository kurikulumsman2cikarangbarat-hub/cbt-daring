<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Test Worker CBT</title>
</head>
<body>

<h2>Test Koneksi Worker CBT</h2>
<button onclick="test()">Kirim Test</button>

<pre id="log"></pre>

<script>
async function test() {
  const log = document.getElementById("log");
  log.textContent = "Mengirim request...\n";

  try {
    const res = await fetch(
      "https://worker-abk.kurikulum-sman2cikarangbarat.workers.dev/api/submit-ujian",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          token: "TESTTOKEN",
          nama: "TEST SISWA",
          jawaban: ["A","B","C","D","A"],
          tab_switch: 0
        })
      }
    );

    const text = await res.text();
    log.textContent += "STATUS: " + res.status + "\n";
    log.textContent += text;

  } catch (err) {
    log.textContent += "ERROR:\n" + err.message;
  }
}
</script>

</body>
</html>
