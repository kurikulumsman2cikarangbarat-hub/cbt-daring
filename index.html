<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Worker Diagnostic</title>
<style>
body { font-family: system-ui; background:#f4f6f8; padding:30px }
.card { background:#fff; padding:20px; border-radius:10px; max-width:500px }
button { padding:10px 15px; margin-top:10px }
pre { background:#111; color:#0f0; padding:10px; border-radius:8px }
</style>
</head>
<body>

<div class="card">
  <h2>Worker Connection Test</h2>
  <button onclick="testHealth()">Test Health</button>
  <button onclick="testStats()">Test Stats</button>
  <pre id="out">Idle...</pre>
</div>

<script>
const WORKER = "https://worker-abk.kurikulum-sman2cikarangbarat.workers.dev";

async function testHealth() {
  out.textContent = "Testing /api/health ...";
  try {
    const r = await fetch(`${WORKER}/api/health`);
    out.textContent = JSON.stringify(await r.json(), null, 2);
  } catch (e) {
    out.textContent = e.toString();
  }
}

async function testStats() {
  out.textContent = "Testing /api/stats ...";
  try {
    const r = await fetch(`${WORKER}/api/stats`);
    out.textContent = JSON.stringify(await r.json(), null, 2);
  } catch (e) {
    out.textContent = e.toString();
  }
}

const out = document.getElementById("out");
</script>

</body>
</html>
