<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Test Worker CBT</title>
</head>
<body>

<h2>Test Koneksi Worker â†’ NocoDB</h2>
<button onclick="test()">TEST KIRIM</button>

<pre id="out"></pre>

<script>
async function test() {
  const out = document.getElementById("out");
  out.textContent = "Mengirim request...\n";

  try {
    const res = await fetch(
      "https://worker-abk.kurikulum-sman2cikarangbarat.workers.dev/api/submit-ujian",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          token: "TESTTOKEN",
          nama: "TES SISWA",
          jawaban: "ABCDE",
          tab_switch: 0
        })
      }
    );

    const text = await res.text();
    out.textContent += "STATUS: " + res.status + "\n";
    out.textContent += "RESPONSE:\n" + text;

  } catch (e) {
    out.textContent += "ERROR:\n" + e.message;
  }
}
</script>

</body>
</html>
